<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>API SPEC DOCUMENT</title>
    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="bootstrap-4.3.1-dist/css/bootstrap-reboot.min.css"> -->
    <link rel="stylesheet" href="css/bootstrap-4.3.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-4.3.1-dist/css/bootstrap-grid.min.css">
    <!-- font -->
    <link rel="stylesheet" href="css/soldev/css/layout.css">
    <link rel="stylesheet" href="css/soldev/css/searchTable.css">
    <link rel="stylesheet" href="css/fontawesome-free-5.8.2-web/css/all.min.css">

    <!--jsonformatter-->
    <link rel="stylesheet" href="css/jQuery-jsonFormatter/source/jsonFormatter.min.css">

    <script src="css/jQuery-3.4.1/jquery-3.4.1.min.js"></script>
    <script src="vue/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>


    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.7.1/jquery.context.min.css"> -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> 
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.7.1/jquery.contextMenu.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.7.1/jquery.ui.position.js"></script>
    <script src="css/jQuery-3.4.1/jsoneditor.js"></script>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="css/bootstrap-4.3.1-dist/js/bootstrap.min.js"></script>   

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>


<body class="application-form">
    <div id="apiTable" v-cloak>
        <!--ì‚­ì œì‹œ ëœ¨ëŠ” í™•ì¸ì°½ in Modal -->
        <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">í™•ì¸</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">ì‚­ì œí• ê¹Œìš”?</div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btn-confirm-no">ì·¨ì†Œ</button>
                        <button type="button" class="btn btn-primary" id="btn-confirm-yes">í™•ì¸</button>
                    </div>
                </div>
            </div>
        </div>
<!------ ìƒˆ ë©”ì†Œë“œ ì¶”ê°€ Modal ------>
        <div class="modal fade" id="addNewMethod" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">ìƒˆ ë©”ì†Œë“œ ì¶”ê°€</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form name="methodModal" id="methodModal">
                         <!--   <div class="form-group row">
                                <label for="Method" class="col-sm-2 col-form-label">Category</label>
                                <div class="col-sm-8">
                                    <select class="form-control" v-model="category"> 
                                        <option v-for="option in categoryOption" v-bind:value="option.category" v-model="category">
                                            {{option.category}}
                                        </option>
                                       <option>APISYS</option>
                                        <option>inmind</option>
                                    </select>
                                </div>
                                <div class="col-sm-2">
                                    <button type="button" class="float-right btn btn-sm btn-outline-primary" v-show="showInput" v-on:click="onAddCategory()">ì¶”ê°€</button>
                                </div>
                            </div>-->
                            <div class="form-group row">
                                <label for="title" class="col-sm-2 col-form-label">Category</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="category" name="category" v-model="category" placeholder="ì˜ë¬¸ ì†Œë¬¸ìë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="title" class="col-sm-2 col-form-label">Title</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="title" name="title" v-model="title">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="title" class="col-sm-2 col-form-label">URL</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="url" name="url" v-model="url">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="Method" class="col-sm-2 col-form-label">Method</label>
                                <div class="col-sm-9">
                                    <select class="form-control" id="methodType" name="methodType" v-model="methodType"> 
                                        <option>GET</option>
                                        <option>POST</option>
                                        <option>PUT</option>
                                        <option>DELETE</option>
                                        <option>OPTION</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="type" class="col-sm-2 col-form-label">Type</label>
                                <div class="col-sm-9">
                                    <select class="form-control" id="requestType" name="requestType" v-model="requestType">
                                        <option>REAL</option>
                                        <option>STUB</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="tag" class="col-sm-2 col-form-label">Tag</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="tags" name="tags" v-model="tags">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="desc" class="col-sm-2 col-form-label">ì„¤ëª…</label>
                                <div class="col-sm-9">
                                    <textarea class="form-control" id="note" name="note" v-model="note" rows="2"></textarea>
                                </div>
                            </div>
                                                    
<!--ì…ë ¥ ë§¤ê°œë³€ìˆ˜----------------------------->

                            <div class="req-msg-wrap bg-light" id="reqMsg">
                                <div class="clearfix modal_msg_align_center">
                                    <p class="title float-left"> ì…ë ¥ ë§¤ê°œë³€ìˆ˜</p>
                                        <div>
                                            <button type="button" class="btn btn-sm btn-outline-success" id="btnInputPart" v-on:click="showTogle('input','inputParam')">ì…ë ¥ì°½</button>
                                        </div>
                                        <div>
                                            <button type="button" class="btn btn-sm btn-outline-success" id="btnTablePart" v-on:click="showTogle('table','inputParam')">í…Œì´ë¸”</button>
                                        </div>
                                        <div>
                                            <button type="button" class="btn-sm btn btn-outline-success"  v-on:click="inputJsonPretty()">ë³€í™˜</button>
                                        </div>
                                </div>
                                <div class="req-msg-desc bg-light">
                                    <div class="form-group row">
                                        <label for="inputParam" class="col-sm-2 col-form-label" v-show="showInput">JSON ì…ë ¥ì°½</label>
                                        <div class="col-sm-8" id="inputJsonArea" v-show="showInput">
                                            <textarea class="form-control" id="inputParam" rows="5" v-model="inputParam" v-show="showInput" placeholder="JSONìœ¼ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”"></textarea>
                                        </div>
                                        <div class="col-sm-2">
                                            <button type="button" class="float-right btn btn-sm btn-outline-primary" v-show="showInput" v-on:click="onSaveJson('input')">ì €ì¥</button>
                                        </div>
                                       <div class="col-sm-12 mt-3" id="inputJsonTable" v-show="showTable">
                                           <!-- Json to Table ë³´ì—¬ì§€ëŠ” ê³³-->
                                       </div>
                                    </div>
                                </div>
                                <div class="req-msg-desc bg-light" id="inputTableArea">
                                    <div class="form-group row">
                                        
                                    </div>
                                </div>
                            </div>            
                                      
<!--ì¶œë ¥ ë§¤ê°œë³€ìˆ˜----------------------------->

                            <div class="req-msg-wrap bg-light" id="reqMsg">
                                <div class="clearfix modal_msg_align_center">
                                    <p class="title float-left"> ì¶œë ¥ ë§¤ê°œë³€ìˆ˜</p>
                                    <div>
                                        <button type="button" class="btn btn-sm btn-outline-success" id="btnOutputPart" v-on:click="showTogle('input','outputParam')" >ì…ë ¥ì°½</button>
                                    </div>
                                    <div>
                                        <button type="button" class="btn btn-sm btn-outline-success" id="btnOutTablePart" v-on:click="showTogle('table','outputParam')">í…Œì´ë¸”</button>
                                    </div>
                                    <div>
                                        <button type="button" class="btn-sm btn btn-outline-success"  v-on:click="outputJsonPretty()">ë³€í™˜</button>
                                    </div>
                                </div>
                                <div class="req-msg-desc bg-light">
                                    <div class="form-group row">
                                        <label for="outputParam" class="col-sm-2 col-form-label" v-show="showOutput">JSONì…ë ¥</label>
                                        <div class="col-sm-8" id="outputJsonArea" v-show="showOutput">
                                            <textarea class="form-control" id="outputParam" rows="5" v-model="outputParam" v-show="showOutput" placeholder="JSONìœ¼ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”"></textarea>
                                        </div>
                                        <div class="col-sm-2">
                                            <button type="button" class="float-right btn btn-sm btn-outline-primary" v-show="showOutput" v-on:click="onSaveJson('output')">ì €ì¥</button>
                                        </div>
                                        <div class="col-sm-12 mt-3" id="outputJsonTable" v-show="showOutTable">
                                            <!-- Json to Table ë³´ì—¬ì§€ëŠ” ê³³-->
                                        </div>
                                    </div>
                                </div>
                            </div>   
                    
  <!--ì‘ë‹µ ë©”ì„¸ì§€---------------------------->
                            <div class="res-msg-wrap bg-light">
                                <div class="clearfix ">
                                    <p class="title float-left"> ì‘ë‹µ ë©”ì‹œì§€ (Response Message)</p>
                                </div>
                                <!-- alert -->
                                <div class="alert alert-danger fade show" role="alert" style="display:none;">
                                    ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div v-for="(responseCase, index) in responseCases" id="replace-wrapper">
                                    <div class="res-msg-desc bg-light" >
                                        <div class="form-group row">
                                            <label for="repTitle" class="col-sm-2 col-form-label">Title</label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" id="resTitle" name="resTitle" v-model="responseCase.resTitle">
                                            </div>
                                            <div class="col-sm-2">
                                                <button type="button" class="float-right btn btn-outline-danger btn-sm btn-delete"  v-on:click="deleteResMsg(index)" >ì‚­ì œ</button>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="defaultCheck" class="col-sm-2 col-form-label">DefaultCheck</label>
                                            <div class="col-sm-9">
                                                <select class="form-control" id="resOption" name="resOption" v-model="responseCase.resOption">
                                                    <option value="" disabled selected> ê¸°ë³¸ì‘ë‹µë©”ì„¸ì§€ ì—¬ë¶€ì…ë‹ˆë‹¤. í•„íˆ ë“±ë¡í•´ì£¼ì„¸ìš”. YESê°€ ê¼­ í•˜ë‚˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤ </option>
                                                    <option>YES</option>
                                                    <option>NO</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="responseCode" class="col-sm-2 col-form-label">Response Code</label>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control" id="resCode" name="resCode" v-model="responseCase.resCode" @change="validResCode(index)" placeholder="ìˆ«ìë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”">
                                            </div>
                                        </div>
                                        <!-- <div class="form-group row">
                                            <label for="responseType" class="col-sm-2 col-form-label">Response Type</label>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control" id="resType" name="resType" v-model="responseCase.resType">
                                            </div>
                                        </div> -->
                                        <div class="form-group row">
                                            <label for="responseType" class="col-sm-2 col-form-label">Response Type</label>
                                            <div class="col-sm-9">
                                                <select class="form-control" id="resType" name="resType" v-model="responseCase.resType">
                                                    <option>application/json</option>
                                                    <option>application/x-www-form-urlencode</option>
                                                    <option>application/xml</option>
                                                    <option>text/xml</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group row" id="resBodyGorup">
                                            <div class="col-sm-1">
                                                <label for="body" class="col-sm-2 col-form-label">Body</label>
                                            </div>
                                            <div class="col-sm-1">
                                                <button type="button" class="float-right btn btn-outline-success"  v-on:click="prettyJson()" style="font-size: 10px;" >ë³€í™˜</button>
                                            </div>
                                            <div class="col-sm-9">
                                                <textarea class="form-control" id="resBody" name="resBody" rows="10" v-model="responseCase.resBody" placeholder="JSONìœ¼ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”"></textarea>
                                            </div>

                                        </div>
                                    </div>
                                    
                                </div> 
                                <div class="btn-plus-wrap text-center">
                                    <button type="button" class="btn btn-secondary rounded-circle btn-plus" v-on:click="addResMsg()">+</button>
                                </div>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">ë‹«ê¸°</button>
                                <button type="button" class="btn btn-primary" name="modalSave" v-on:click="onSaveData()">ì €ì¥</button>
                                <button type="button" class="btn btn-danger btn-delete" name="modalDelete" v-on:click="onDeleteData()" >ì‚­ì œ</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>


        <div class="navbar navbar-expand-lg navbar-light bg-light">
            <nav class="container">
                <div class="col-sm-8">
                    <span class="title page-title" style="font-size: 17px; " >ğŸ“ API SPEC DOCUMENT / </span>
                    <input type="text" v-model="selectedCategory" size="12" readonly disabled required  style="border: 0px ;text-align: left;  font-size: 25px; font-style: inherit; ">
                </div>
                <div class="col-sm-3 col-md-push-2">
                        <select class="form-control" id="selectCategory" @change="onChangeSelect">
                         <option value="" disabled selected hidden>ğŸ“Œ ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
                         <option v-for="option in categoryOption" v-bind:value="option._id" >{{option.category}}</option>
                         <!--<option value="inmind">inmind</option>-->
                         <!--<option value="smartfarm">smartfarm</option>-->
                        </select>
                </div>
                <div class="co2-sm-2 col-md-push-3">
                    <button type="button" class="float-right btn btn-sm btn-outline-primary" v-show="showInput" v-on:click="onAddCategory()">ì¹´í…Œê³ ë¦¬ì¶”ê°€</button>
                </div>
            </nav>
   

        </div>
        <div class="container-fluid">
            <div class="container">
                <div class="inner-wrap mt-5">
                    <div class="mt-4">
                        <form>
                            <div class="input-group mb-2">
                                <input type="text" id="inputTag" class="form-control"  placeholder="ê²€ìƒ‰í•  íƒœê·¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" aria-label="ê²€ìƒ‰í•  íƒœê·¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" aria-describedby="search" onKeyDown="return onKeyEnter()" >
                                <div class="input-group-append">
                                    <button class="btn btn-primary" type="button" v-on:click="onSearchTag()">ì¡°íšŒ</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="mt-5">
                        <div class="clearfix">
                            <h3 class="float-left title table-title"></h3>
                            <div class="float-right"><button type="button" class="btn btn-outline-primary"  data-toggle="modal" data-target="#addNewMethod" v-on:click="onInit()">ìƒˆ ë©”ì†Œë“œ ì¶”ê°€</button>
                        </div>
                        </div>
                        <template>
                            <div class="table-wrap mt-2">
                                <table class="table table-hover" >
                                    <colgroup>
                                        <col width="5%">
                                        <col width="10%">
                                        <col width="25%">
                                        <col width="10%">
                                        <col width="*%">
                                        <col width="13%">
                                    </colgroup>
                                    <thead class="thead-light">
                                        <tr>
                                            <th scope="col" class="text-center">No.</th>
                                            <th scope="col" class="text-center">Category</th>
                                            <th scope="col" class="text-center">Title</th>
                                            <th scope="col" class="text-center">Type</th>
                                            <th scope="col" class="text-center">URL</th>
                                            <th scope="col" class="text-center">Response Code</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                       <tr v-for="(method, index) in methodLists" v-on:click="detailModal(method._id)" data-toggle="modal" data-target="#addNewMethod">
                                            <td class="text-center">{{index+1+((nowPage-1)*pageRecordCount)}}</td>
                                            <td class="text-center">{{method.category}}</td>
                                            <td class="text-left">{{method.title}}</td>
                                            <td class="text-center"><span class="btn btn-secondary btn-sm">{{method.requestType}}</span></td>
                                            <td class="text-left">{{method.url}}</td>
                                            <td class="text-center"><span class="btn btn-warning btn-sm">{{method.responseCases[method.responseCaseIndex].resCode}}</span></td>
                                        </tr> 
                                    </tbody>
                                </table>
                            </div>
                            <div class="pagination-wrap mt-5">
                                <page-component v-html:pagetag="paging"></page-component>
                            </div>
                        </template>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
<script>

        Vue.component('page-component',{
            template:'<ul class="pagination justify-content-center">{{paging}}</ul>',
            props:['paging']
        })


        var apiTableVue = new Vue({
            el:"#apiTable",
            data:{
                    paging:'', //í•˜ë‹¨ í˜ì´ì§• ë¶€ë¶„ html ë³´ì—¬ì£¼ëŠ” ë³€ìˆ˜ 
                    nowPage:1, // í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸
                    totalCount:0, // ì „ì²´ì¹´ìš´íŠ¸
                    pageCount:10, //í˜ì´ì§€ë‹¹ ë³´ì—¬ì¤„ í•˜ë‹¨ ë²ˆí˜¸ ìˆ˜*
                    pageRecordCount:20, // í˜ì´ì§€ë‹¹ ë³´ì—¬ì¤„ ë ˆì½”ë“œ ìˆ˜


                    //ì…ë ¥,ì¶œë ¥ë§¤ê°œë³€ìˆ˜ jsonê³¼ tableì„ ìœ„í•œ ë³€ìˆ˜
                    showInput:true,
                    showTable:false,
                    showOutput:true,
                    showOutTable:false,

                    methodId:'', //ê° ë©”ì†Œë“œì˜ ê³ ìœ  ID
                    methodLists:[],
                    tempMethodLists:[],
                    test:[],
                    categoryOption:[],
                    category:'',
                    selectedCategory:'',
                    selectedCategoryId:'',
                    title: '',
                    url: '',
                    methodType: '',
                    requestType: '',
                    tags: '',
                    note: '',
                    createDateTime:'',
                    lastUpdateTime:'',
                    inputParam: '',
                    outputParam: '',
                    responseCaseIndex :'', 
                    responseCases : [       
                                        { 
                                            "resTitle" : "", 
                                            "resCode" : "", 
                                            "resType" : "",
                                            "resOption" : "",
                                            "resBody" : ""
                                        }
                                    ]
                       
                
            },
            created:function(){
                var $this = this;
                $this.setNowCategory();
                $this.getListCategory();
            },
            methods:{
                inputJsonPretty : function(){
                    var badJSON = document.getElementById('inputParam').value;
                    var parseJSON = JSON.parse(badJSON);
                    var JSONInPrettyFormat = JSON.stringify(parseJSON, undefined, 4);
                    document.getElementById('inputParam').value = JSONInPrettyFormat;
                },
                outputJsonPretty : function(){
                    var badJSON = document.getElementById('outputParam').value;
                    var parseJSON = JSON.parse(badJSON);
                    var JSONInPrettyFormat = JSON.stringify(parseJSON, undefined, 4);
                    document.getElementById('outputParam').value = JSONInPrettyFormat;
                },
                prettyJson : function(){
                    //var childrens = $('#replace-wrapper').children('#resBodyGorup');
                    //console.log(childrens);
                },
                setNowCategory : function(){
                    //ì„ íƒí–ˆì—ˆë˜ ì¹´í…Œê³ ë¦¬ í•­ëª©ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒí•˜ëŠ” ê²ƒ
                    var $this = this;
                    $.ajax({
                        type:"GET",
                        url: "/data/selected/category",
                        contentType:'application/json',
                        dataType:"json",
                        async : true,
                        success:function(data){

                        if(data.length != 0){
                            $this.selectedCategory = data[0].category; //í˜„ì¬ ì„ íƒë˜ì–´ìˆëŠ” ì¹´í…Œê³ ë¦¬í•­ëª©
                            $this.selectedCategoryId = data[0].id; //í˜„ì¬ ì„ íƒë˜ì–´ìˆëŠ” ì¹´í…Œê³ ë¦¬í•­ëª©ì˜ id
                            $this.onSearchCategory(data[0].category); //ì„ íƒí•œ í•­ëª©ì˜ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
                        }
                        else{
                            //ëª¨ë“ ë¦¬ìŠ¤íŠ¸ì¡°íšŒí•˜ê¸°
                            $this.selectedCategory = "ALL"; //í˜„ì¬ ì„ íƒë˜ì–´ìˆëŠ” ì¹´í…Œê³ ë¦¬í•­ëª©
                            $this.selectedCategoryId = "60062d4dcd37ce5294478007"; //í˜„ì¬ ì„ íƒë˜ì–´ìˆëŠ” ì¹´í…Œê³ ë¦¬í•­ëª©ì˜ id
                            $this.onSearchCategory("ALL"); //ì„ íƒí•œ í•­ëª©ì˜ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
                        }

                        },
                        error:function(e){
                            alert(e.responseText);
                        }
                    });                    

                },
                onSearchCategory : function(category){
                //ì¹´í…Œê³ ë¦¬ë¡œ ì„ íƒí–ˆì„ ë•Œ ë‚˜ì˜¤ëŠ” ë¦¬ìŠ¤íŠ¸
                    var $this = this;
                    $.ajax({
                        type:"GET",
                        url: "/data/methods/list/"+category,
                        contentType:'application/json',
                        dataType:"json", 
                        success:function(data){
                            console.log(data);
                            
                            //ë°°ì—´ indexê°€ 0ë¶€í„° ì‹œì‘í•´ì„œ sliceí•  ë•Œ ë§ì§€ ì•Šì•„ì„œ ìƒê¸°ëŠ” ë¬¸ì œ ë•Œë¬¸ì— 0ë²ˆì§¸ì— ì´ˆê¸°í™”í•˜ëŠ” ë°ì´í„°ë¥¼ ì„ì˜ë¡œ ë„£ì–´ì„œ ì²˜ë¦¬
                            //sliceê°€ -1ë¶€í„°ì‹œì‘í•˜ê²Œ í•˜ë©´ ë°°ì—´ëì—ì„œë¶€í„°ì˜ ê¸¸ì´ë¥¼ ë‚˜íƒ€ë‚´ê¸° ë•Œë¬¸ì— ì´ëŸ° ë°©ì‹ì„ ì·¨í•˜ê²Œ ë¨.
                            $this.tempMethodLists = [
                                                      {
                                                        "msg": "ì´ˆê¸°í™”"
                                                      }
                                                    ]
                            for(var index =0; index<data.length; index++){
                                $this.tempMethodLists.push(data[index]);    
                            }

                            $this.methodLists = data;
                           // $this.tempMethodLists = data;
                            $this.totalCount = $this.methodLists.length; 
                            $this.nowPage=1; //ì¹´í…Œê³ ë¦¬ë³€ê²½ì‹œ í˜„ì¬ í˜ì´ì§€ê°€ ì²«ë²ˆì§¸ë¡œ ê°±ì‹ ë˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ 
                            $this.page();
                        },
                        error:function(e){
                            alert(e.responseText);
                        }
                    });
                     
                },
                getListCategory : function(){
                    //ì¹´í…Œê³ ë¦¬ í•­ëª© ë¦¬ìŠ¤íŠ¸
                    var $this = this;
                    $.ajax({
                            type:"GET",
                            url: "/data/category",
                            contentType:'application/json',
                            dataType:"json",
                            async : true,
                            success:function(data){
                                $this.categoryOption = data;
                            },
                            error:function(e){
                                alert(e.responseText);
                            }
                        });  
                },
                onAddCategory:function(){

                    var inputCategory = prompt("ì¶”ê°€ í•  ì¹´í…Œê³ ë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");

                    if(inputCategory != null){

                        var requestParam={
                            category: inputCategory
                            };

                        $.ajax({
                                    type:"POST",
                                    url: "/data/category",
                                    contentType:'application/json',
                                    dataType:"json",
                                    data: JSON.stringify(requestParam),
                                    success:function(response){
                                        console.log(response);
                                        alert(inputCategory+'ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
                                        location.reload(); // ë¦¬ìŠ¤íŠ¸ ê°±ì‹ ì‹œí‚¤ê¸° ìœ„í•´ì„œ
                                    },
                                    error:function(e){
                                        alert(e.responseText);
                                    }
                                });
                    }
                    else{

                    }
                },
                onChangeSelect:function(){
                    //select box ë³€ê²½ë˜ì—ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
                    var $this = this;
                    var selectedId = $('#selectCategory').val();
                    var selectedItem = $('#selectCategory option:selected').text().trim();

                    $this.onSaveNowCategory(selectedId,selectedItem);
                },
                onSearchTag : function(){
                    //íƒœê·¸ ê²€ìƒ‰ ì‹œ ì¡°íšŒë˜ëŠ” í•¨ìˆ˜ 
                    var $this = this;
                    var searchTag = $('#inputTag').val();

                    if(searchTag=='' || searchTag==null){
                        console.log("searchTag : " + searchTag);
                        location.reload();
                    }
                    else{  
                         $.ajax({
                             type:"GET",
                             url: "/data/methods/search/"+searchTag,
                             contentType:'application/json',
                             dataType:"json", 
                             success:function(data){
                                    $this.methodLists = data;
                                    //$this.tempMethodLists = data;
                                    $this.tempMethodLists = [
                                                        {
                                                            "msg": "ì´ˆê¸°í™”"
                                                        }
                                                        ]
                                    for(var index =0; index<data.length; index++){
                                        $this.tempMethodLists.push(data[index]);    
                                    }
                                    $this.totalCount = $this.methodLists.length; 
                                    $this.page();
                                },
                             error:function(e){
                                 alert(e.responseText);
                             }
                         });
                     }
                },               
                onSaveNowCategory : function(selectedId, selectedCategory){
                    //ì„ íƒí•œ ì¹´í…Œê³ ë¦¬ë¥¼ ê¸°ì–µí•˜ê¸° ìœ„í•´ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
                        var $this = this;

                        var requestParam={
                            id: selectedId,
                            category: selectedCategory
                        };

                      $.ajax({
                            type:"POST",
                            url: "/data/selected/category",
                            contentType:'application/json',
                            dataType:"json",
                            data: JSON.stringify(requestParam),
                            success:function(response){
                                console.log(response);
                                $this.selectedCategory = selectedCategory //í˜„ì¬ì¹´í…Œê³ ë¦¬ ë°”ë€ê±° ë°ì´í„° ê°±ì‹ 
                                $this.onSearchCategory(selectedCategory); //ì„ íƒí•œ í•­ëª©ì˜ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
                            },
                            error:function(e){
                                alert(e.responseText);
                            }
                        });            
                },
                onInit:function(){
                    //ì´ˆê¸°í™” (í´ë¦­í• ë•Œ ëª¨ë‹¬ìì²´ë¥¼ ì´ˆê¸°í™” í•˜ëŠ” ë¶€ë¶„)
                    var $this = this;

                    //ì…ë ¥,ì¶œë ¥ë§¤ê°œë³€ìˆ˜ jsonê³¼ tableì„ ìœ„í•œ ë³€ìˆ˜
                    $this.showInput=true,
                    $this.showTable=false,
                    $this.showOutput=true,
                    $this.showOutTable=false,

                    $this.category='';
                    $this.methodId='';
                    $this.title='';
                    $this.url='';
                    $this.methodType='';
                    $this.requestType='';
                    $this.tags='';
                    $this.note='';
                    $this.inputParam='';
                    $this.outputParam='';
                    $this.responseCaseIndex =''; 
                    $this.responseCases = [       
                                        { 
                                            "resTitle" : "", 
                                            "resCode" : "", 
                                            "resType" : "",
                                            "resOption" : "",
                                            "resBody" : ""
                                        }
                                    ];
                },               
                detailModal : function(id){
                //ëª©ë¡ì„ í´ë¦­í–ˆì„ ë•Œ ë³´ì—¬ì§€ëŠ” ì„¸ë¶€ ë‚´ìš©ë“¤ ì¡°íšŒ
                  var $this = this;
                  $this.showInput=true;
                  $this.showTable=false;
                  $this.showOutput=true;
                  $this.showOutTable=false;
                  
                  $.ajax({
                        type:"GET",
                        url: "/data/methods/"+id,
                        contentType:'application/json',
                        dataType:"json", 
                        success:function(data){
                            
                            $this.methodId = data._id;
                            $this.category = data.category; 
                            $this.title = data.title;
                            $this.url = data.url;
                            $this.methodType = data.methodType;
                            $this.requestType = data.requestType;
                            $this.tags = data.tags;
                            $this.note = data.note;
                            $this.inputParam = data.inputParam;
                            $this.outputParam = data.outputParam;
                            $this.responseCaseIndex = data.responseCaseIndex;
                            $this.responseCases = data.responseCases;

                        },
                        error:function(e){
                            alert(e.responseText);
                        }
                    });
                },

                addResMsg : function(){
                //ì‘ë‹µë©”ì„¸ì§€ ì¶”ê°€ë²„íŠ¼(+)ëˆŒë €ì„ ë•Œ ìƒì„±(=responseCasesë¦¬ìŠ¤íŠ¸ì— ë°°ì—´ìš”ì†Œ í•˜ë‚˜ ì¶”ê°€)
                   var newResponseMessage =   { 
                                                "resTitle" : "", 
                                                "resCode" : "", 
                                                "resType" : "",
                                                "resOption" : "",
                                                "resBody" : ""
                                        };
                    this.responseCases.push(newResponseMessage);
                },

                deleteResMsg : function(index){
                    //ì‘ë‹µë©”ì„¸ì§€ ì‚­ì œ í–ˆì„ ë•Œ í•´ë‹¹ index ë°°ì—´ìš”ì†Œë¥¼ ì‚­ì œ
                    //console.log("~~ delete responseCases ~~");
                    if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")==true){
                        this.responseCases.splice(index,1); // indexì—ì„œ 1ê°œ ì‚­ì œ
                        alert('ì‚­ì œ ì™„ë£Œ !');
                    }
                    else{
                        return;
                    } 
                },

                onSaveJson:function(paramType){
                    //ì…ë ¥ë§¤ê°œë³€ìˆ˜, ì¶œë ¥ë§¤ê°œë³€ìˆ˜ì˜ json ì…ë ¥ì°½ì—ì„œ ê°œë³„ ì €ì¥í•˜ëŠ” ë¶€ë¶„
                    var $this = this;
                    var requestParam={};

                    if (paramType=='input'){

                        var check = $this.validJson(paramType);
                        if(check == true){

                            var json = JSON.parse($this.inputParam.replace(/\r\n/g, ''));
                            
                            requestParam={
                                inputParam: JSON.stringify(json),
                                type:'input'
                            };

                        }else if(check==false){
                            alert('JSON êµ¬ì¡°ê°€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”!');
                            return;
                        }
                    }
                    else if(paramType=='output'){


                        var check = $this.validJson(paramType);
                        if(check == true){
                            var json = JSON.parse($this.outputParam.replace(/\r\n/g, ''));
                            requestParam={
                                        outputParam: JSON.stringify(json),
                                        type:'output'
                                    };

                        }else if(check==false){
                            alert('JSON êµ¬ì¡°ê°€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”!');
                            return;
                        }
                    }


                    if(confirm("Json ì…ë ¥ì„ ì €ì¥ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")==true){ 
                        
                        if($this.methodId=='' || $this.methodId==null)   alert('APIë¥¼ ë¨¼ì € ì €ì¥í•´ì£¼ì„¸ìš”!');
                        else{

                            $.ajax({
                                        type:"PUT",
                                        url: "/data/methods/input/"+$this.methodId,
                                        contentType:'application/json',
                                        dataType:"json",
                                        data: JSON.stringify(requestParam),
                                        success:function(response){
                                            console.log(response);
                                            alert('ì €ì¥ì™„ë£Œ!');                                       
                                        },
                                        error:function(e){
                                            alert(e.responseText);
                                        }
                                    });
                                    setTimeout(function(){
                                                $this.onGetJsonInOut($this.methodId);
                                            },1000);
                        }
                    }
                },

                onGetJsonInOut:function(nowMethodId){
                    //ê°œë³„ì ìœ¼ë¡œ ì…ë ¥/ì¶œë ¥ json ì…ë ¥ì— ëŒ€í•´ì„œ ì €ì¥í•œ ê²ƒì„ ê·¸ëŒ€ë¡œ ì¡°íšŒí•˜ëŠ” í•¨ìˆ˜
                    var $this= this;
                    $.ajax({
                        type:"GET",
                        url: "/data/methods/"+ nowMethodId,
                        contentType:'application/json',
                        dataType:"json",
                        async : true,
                        success:function(data){
                            $this.inputParam = data.inputParam;
                            $this.outputParam = data.outputParam;
                        },
                        error:function(e){
                            alert(e.responseText);
                        }
                    });   
                },
                validResCode:function(index){
                    //ì‘ë‹µë©”ì„¸ì§€ì—ì„œ Response Codeê°€ ìˆ«ìë§Œ ì…ë ¥ë¬ëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
                    var validValue = this.responseCases[index].resCode.replace(/[^0-9]/g, '');
                    
                    if(validValue==''||validValue==null){
                        alert('ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                        this.responseCases[index].resCode='';
                    }
                },
                validJson:function(vaildType){
                    //ì…ë ¥/ì¶œë ¥ jsoní˜•ì‹ ìœ íš¨ì„±ê²€ì‚¬

                    if(vaildType == 'input'){
                        try{
                            if(this.inputParam =="" || this.inputParam ==null || typeof this.inputParam=="undefined") return null;
                            var json = JSON.parse(this.inputParam); //ì •ìƒì ì¸ json typeì´ ì•„ë‹Œê²½ìš° exception ë°˜í™˜
                            if(typeof json ==='object'){return true;} 
                        } catch(e){
                            return false;
                        }
                    }

                    if(vaildType == 'output'){
                        try{
                            if(this.outputParam =="" || this.outputParam ==null || typeof this.outputParam=="undefined") return null;
                            var json = JSON.parse(this.outputParam); //ì •ìƒì ì¸ json typeì´ ì•„ë‹Œê²½ìš° exception ë°˜í™˜
                            if(typeof json ==='object'){return true;} 
                        } catch(e){
                            return false;
                        }
                    }
                },
                showTogle:function(btnType, paramType){
                    //ì…ë ¥ë§¤ê°œë³€ìˆ˜ í† ê¸€ë²„íŠ¼
                    if(paramType =='inputParam'){
                        if(btnType == 'input'){
                        this.showInput = true;
                        this.showTable=false;
                         }
                        else if(btnType =='table'){
                            this.showInput = false;
                            this.showTable=true;
                        }
                    }

                    //ì¶œë ¥ë§¤ê°œë³€ìˆ˜ í† ê¸€ë²„íŠ¼
                    else if(paramType == 'outputParam'){
                        if(btnType == 'input'){
                            this.showOutput = true;
                            this.showOutTable=false;
                         }
                        else if(btnType =='table'){
                            this.showOutput = false;
                            this.showOutTable=true;
                        }
                    }
                },  
                onDeleteData:function(){
                    //APIí•­ëª© ì‚­ì œí•˜ëŠ” í•¨ìˆ˜
                    if(confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")==true){                                      
                        $.ajax({
                                type:"DELETE",
                                url: "/data/methods/"+this.methodId,
                                contentType:'application/json',
                                dataType:"json",
                                success:function(response){
                                    console.log(response);
                                    alert('ì‚­ì œ ì™„ë£Œ!');
                                },
                                error:function(e){
                                    alert(e.responseText);
                                }
                            });
                    }
                    else{
                        return;
                    }
                    setTimeout(function(){
                        $('#addNewMethod').modal('hide');
                        location.reload();
                    },1000);
                },
                onSaveData : function(){
                    //console.log("~~~onSaveData~~~");

                    //ê¸°ë³¸ë©”ì„¸ì§€ì„¤ì • validation
                    var chk=0;
                    var optionIndex;
                    
                    if(this.category =='' || this.category==null || this.category.length==0){
                        alert('ì¹´í…Œê³ ë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                        return;
                    }


                    if(this.title =='' || this.title==null || this.title.length==0){
                        alert('ë©”ì†Œë“œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                        return;
                    }

                    if(this.responseCases.length==0 || this.responseCases == null){
                        alert('ì‘ë‹µ ë©”ì„¸ì§€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                        return;
                    }

                    

                    for(var i=0; i<this.responseCases.length ; i++){
                        if(this.responseCases[i].resOption=="YES"){
                            chk++
                            optionIndex = i;
                        } 
                    }
                    if (chk==0){
                        alert('ê¸°ë³¸ë©”ì„¸ì§€ë¥¼ ì„¤ì • í•´ì£¼ì„¸ìš”.');
                        return;
                    }
                    else if(chk == 1){
                        this.responseCaseIndex = optionIndex; //ì‘ë‹µë©”ì„¸ì§€ê°€ ë‹¤ì¤‘ì¼ ë•Œ, ê¸°ë³¸ì‘ë‹µë©”ì„¸ì§€ì˜ indexë¥¼ ì°¾ì•„ì„œ ì €ì¥í•˜ê¸° ìœ„í•œ ë¶€ë¶„
                    }
                    else if (chk>1){
                        alert('ê¸°ë³¸ë©”ì„¸ì§€ì„¤ì •ì€ í•œ ê°œë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸ í•´ì£¼ì„¸ìš”.');
                        return;
                    }

                    if((this.inputParam !="" || typeof this.inputParam !="undefined" || this.inputParam !=null) && (this.validJson('input') == false)){
                        alert(' ì…ë ¥ë§¤ê°œë³€ìˆ˜ JSON êµ¬ì¡°ê°€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”!');
                        return;
                    }

                    if(( this.outputParam !="" || typeof this.outputParam !="undefined" || this.outputParam !=null ) && (this.validJson('output') == false)){
                        alert(' ì¶œë ¥ë§¤ê°œë³€ìˆ˜ JSON êµ¬ì¡°ê°€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”!');
                        return;
                    }

                    for(var j=0; j<this.responseCases.length ; j++){
                        try{
                            if(this.responseCases[j].resBody == null || this.responseCases[j].resBody == "" || typeof this.responseCases[j].resBody=="undefined"  ) continue;

                            var json = JSON.parse(this.responseCases[j].resBody.replace(/\r\n/g,'')); //ì •ìƒì ì¸ json typeì´ ì•„ë‹Œê²½ìš° exception ë°˜í™˜
                            if(typeof json ==='object'){
                                this.responseCases[j].resBody = JSON.stringify(json); //ì €ì¥ë ë•Œ ì—”í„°ê°’ ì œê±°í•˜ì—¬ ì €ì¥í•˜ê¸°ìœ„í•´
                            } 

                        } catch(e){
                            alert((j+1)+'ë²ˆì§¸ ì‘ë‹µë©”ì„¸ì§€ Bodyì˜ Jsonì„ í™•ì¸í•´ì£¼ì„¸ìš”!' );
                            return;
                        }
                    }
                    


                    if(this.inputParam == '' || this.inputParam ==null || typeof this.inputParam =='undefined') {
                        this.inputParam ='';
                    }
                    else if(this.inputParam != '' || this.inputParam !=null || typeof this.inputParam !='undefined') {
                        this.inputParam = JSON.stringify(JSON.parse(this.inputParam.replace(/\r\n/g, '')));
                    }


                    if(typeof this.outputParam =="undefined" || this.outputParam == '' || this.outputParam ==null){
                        this.outputParam='';
                    }
                    else if(typeof this.outputParam !="undefined" || this.outputParam != '' || this.outputParam !=null ) {
                        this.outputParam = JSON.stringify(JSON.parse(this.outputParam.replace(/\r\n/g, '')));
                    }

                    //ì¹´í…Œê³ ë¦¬ëŠ” ì˜ì–´ì†Œë¬¸ìë¡œë§Œ ì €ì¥ë˜ê²Œ í•¨
                    var lowerCast = this.category;
                    var lowerCategory = lowerCast.toLowerCase();

                    var requestParam={
                        category: lowerCategory,
                        title: this.title,
                        url: this.url,
                        methodType: this.methodType,
                        requestType: this.requestType,
                        tags: this.tags,
                        note: this.note,
                        inputParam: this.inputParam,
                        outputParam: this.outputParam,
                        responseCaseIndex:this.responseCaseIndex,
                        responseCases : this.responseCases
                    };

                    console.log("save data : " + JSON.stringify(requestParam));
                    console.log("save data2 : " + requestParam);

                    if(confirm("ì €ì¥ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")==true){  

                            if(this.methodId=='' || this.methodId==null) {
                                //ì €ì¥í• ë•Œ
                                    $.ajax({
                                        type:"POST",
                                        url: "/data/methods",
                                        contentType:'application/json',
                                        dataType:"json",
                                        data: JSON.stringify(requestParam),
                                        success:function(response){
                                            console.log(response);
                                            alert('ì €ì¥ì™„ë£Œ!');
                                        },
                                        error:function(e){
                                            alert(e.responseText);
                                        }
                                    });
                            }
                            //ìˆ˜ì •í• ë•Œ
                                else if(this.methodId !=null || this.methodId!=''){
                                    //console.log("~~update ~~");
                                    $.ajax({
                                        type:"PUT",
                                        url: "/data/methods/"+this.methodId,
                                        contentType:'application/json',
                                        dataType:"json",
                                        data: JSON.stringify(requestParam),
                                        success:function(response){
                                            console.log(response);
                                            alert('ìˆ˜ì •ì™„ë£Œ!');
                                        },
                                        error:function(e){
                                            alert(e.responseText);
                                        }
                                    });
                                }

                    }
                    else{

                        return;
                    }

                    setTimeout(function(){
                        $('#addNewMethod').modal('hide');
                        location.reload();
                    },1000);
                },
                movePage:function(nowPageNum){    
                /*
                (í˜„ì¬í˜ì´ì§€-1) * PageRecordCount ~ í˜„ì¬í˜ì´ì§€ * PageRecordCount
                ìœ¼ë¡œ ë³´ì—¬ì¤„ methodList indexë¥¼ ê³„ì‚°í•¨
                 startIndexë¶€í„° endIndex(í¬í•¨ X)ê¹Œì§€

                slice() ë©”ì†Œë“œëŠ” beginë¶€í„° end ì „ê¹Œì§€ì˜ ë³µì‚¬ë³¸ì„ ìƒˆë¡œìš´ ë°°ì—´ ê°ì²´ë¡œ ë°˜í™˜í•œë‹¤.
                ì¦‰, ì›ë³¸ ë°°ì—´ì€ ìˆ˜ì •ë˜ì§€ ì•ŠëŠ”ë‹¤.
                */
               
                this.nowPage = nowPageNum;
                this.page();
     /*           var startRownum = (this.nowPage-1) * this.pageRecordCount + 1; //í…Œì´ë¸” í–‰ ë²ˆí˜¸ì²«ë²ˆì§¸ 
                var endRownum = this.nowPage * this.pageRecordCount;  //í…Œì´ë¸” í–‰ ë²ˆí˜¸ ë§ˆì§€ë§‰
                this.methodLists = this.tempMethodLists.slice(startRownum, endRownum+1);

                if(param=="hello2"){
                    
                    var groupNo = Math.floor(this.nowPage / this.pageCount + (this.nowPage % this.pageCount >0 ? 1: 0)); 
                    var endPage = groupNo * this.pageCount;
                    var startPage = endPage - (this.pageCount -1);
                    console.log("groupNo : "+groupNo);
                    console.log("endPage : "+endPage);
                    console.log("startPage : "+startPage);

                    this.paging ="";
                    for(var ii = startPage ; ii<=endPage ; ii++){
                        //ë™ì ìœ¼ë¡œ ëª©ë¡ì— ë”°ë¼ í•˜ë‹¨ì— ìˆ«ì ë²ˆí˜¸ê°€ ë³´ì—¬ì§€ëŠ” ë¶€ë¶„
                            this.paging += "<li class='page-item'><a class='page-link' href=\"javascript:movePage("+ii+")\">"+ii+"<span class='sr-only'>"+ii+"<span></a></li>"    
                    }

                }*/
      
                },       
               
                page:function(){
                    //í˜ì´ì§€ ë²ˆí˜¸ ëª©ë¡ ë‚˜ì—´
                    console.log("totalCount:"+this.totalCount);

                    if(this.nowPage==0) this.nowPage=1;

                    var totalPage2 = Math.ceil( this.totalCount /this.pageRecordCount + ((this.totalCount % this.pageRecordCount >0 ? 1 : 0))) ; //ì´ ìƒì„±ë  í˜ì´ì§€ ìˆ˜
                    
                    var totalPage = Math.ceil( this.totalCount /this.pageRecordCount) ; //ì´ ìƒì„±ë  í˜ì´ì§€ ìˆ˜
                    console.log("totalPage:"+totalPage);


                    console.log("totalPage2:"+totalPage2);
                    console.log("nowPage:"+this.nowPage);

                    /*
                    if(this.nowPage>totalPage){
                        this.nowPage = totalPage;
                    }
                    console.log("pageRecordCount:"+this.pageRecordCount);
                    console.log("now-1 : "+ (this.nowPage - 1) );
                    */
                    
                    var startRownum = (this.nowPage-1) * this.pageRecordCount + 1; //í…Œì´ë¸” í–‰ ë²ˆí˜¸ì²«ë²ˆì§¸ 
                    var endRownum = this.nowPage * this.pageRecordCount;  //í…Œì´ë¸” í–‰ ë²ˆí˜¸ ë§ˆì§€ë§‰
                    this.methodLists = this.tempMethodLists.slice(startRownum, endRownum+1);

                    console.log("startRownum : " + startRownum);
                    console.log("endRownum : "+endRownum);


                    var groupNo = Math.floor(this.nowPage / this.pageCount + (this.nowPage % this.pageCount >0 ? 1: 0)); 
                    var endPage = groupNo * this.pageCount;
                    var startPage = endPage - (this.pageCount -1);
                    console.log("groupNo : "+groupNo);
                    console.log("endPage : "+endPage);
                    console.log("startPage : "+startPage);                

                    

                   /* if(endPage ==0){
                        startPage=1;
                        endPage=10;
                    } */

                    if(endPage > totalPage){
                        endPage = totalPage
                    }

                    var prevPage = startPage - this.pageCount;
                    var nextPage = startPage + this.pageCount;
                    

                    if(prevPage < 1){
                        prevPage = 1;
                    }
                    if(nextPage > totalPage){
                        nextPage = totalPage;
                    }

                    console.log("prevPage : "+prevPage);
                    console.log("nextPage : "+nextPage);

                    this.paging ="";
                    if(nextPage <= this.pageCount+1){
                        this.paging ="<li class='page-item disabled'><span class='page-link'>ì´ì „</span></li>"
                    }
                    else{
                        this.paging="<li class='page-item'><a class='page-link' href=\"javascript:movePage("+(startPage - this.pageCount)+")\" aria-label='ì´ì „'><span aria-hidden='true'>ì´ì „</span></a></li>"
                    }

                    for(var ii = startPage ; ii<=endPage ; ii++){
                        //ë™ì ìœ¼ë¡œ ëª©ë¡ì— ë”°ë¼ í•˜ë‹¨ì— ìˆ«ì ë²ˆí˜¸ê°€ ë³´ì—¬ì§€ëŠ” ë¶€ë¶„
                        this.paging += "<li class='page-item'><a class='page-link' href=\"javascript:movePage("+ii+")\">"+ii+"<span class='sr-only'>"+ii+"<span></a></li>"    
                    }

                    if(nextPage != totalPage){
                        this.paging +="<li class='page-item'><a class='page-link' href=\"javascript:movePage("+(startPage + this.pageCount)+")\" aria-label='ë‹¤ìŒ'><span aria-hidden='true'>ë‹¤ìŒ</span></a></li>"
                    }
                    else{
                        this.paging +="<li class='page-item disabled'><span class='page-link'>ë‹¤ìŒ</span></li>"
                    }
                }
 

            }
            
        });

        $(document).ready(function () {
            jsonEditorInit('inputJsonTable', 'inputParam', 'inputJsonArea', 'btnTablePart', 'btnInputPart');
            jsonEditorInit('outputJsonTable', 'outputParam', 'outputJsonArea', 'btnOutTablePart', 'btnOutputPart');          
        });  

        /*
        $('#inputParam').keyup(function () {
            var badJSON = document.getElementById('inputParam').value;
            console.log("badjson:"+badJSON);
            var parseJSON = JSON.parse(badJSON);
            var JSONInPrettyFormat = JSON.stringify(parseJSON, undefined, 4);
            document.getElementById('inputParam').value = JSONInPrettyFormat;

        });
        */
        function onKeyEnter(){
        //enterkeyëˆŒë €ì„ ë•Œ ì¡°íšŒë˜ë„ë¡, returnì´ ìˆëŠ” ê±´ ê²€ìƒ‰ í›„ refreshë˜ì–´ì„œ ì²˜ë¦¬í•´ë†“ìŒ
            if(event.keyCode == 13){
                apiTableVue.onSearchTag();
                return false;
             }
             return true;
        }

        //ë™ì ìœ¼ë¡œ í™”ë©´ì„ ê·¸ë ¤ì„œ vueì— ìˆëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•œ í•¨ìˆ˜
        function movePage(nowPageNum){
            apiTableVue.movePage(nowPageNum);
        }

        var modalConfirm = function(callback){
  
            $("#btn-confirm-yes").on("click", function(){
                callback(true);
                $("#deleteModal").modal('hide');

            });
            
            $("#btn-confirm-no").on("click", function(){
                callback(false);
                $("#deleteModal").modal('hide');
            });
        };

        modalConfirm(function(confirm){
            if(confirm){
                $('.alert').show();
                setTimeout(function(){
                    $('.alert').alert('close');
                },1000);
            }else{

            }
        });


        //ëª¨ë‹¬ ì¤‘ë³µ
        $(document).on({
            'show.bs.modal': function() {
                var zIndex = 1040 + (10 * $('.modal:visible').length);
                $(this).css('z-index', zIndex);
                setTimeout(function() {
                    $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
                }, 0);
            },

            'hidden.bs.modal': function() {
                if ($('.modal:visible').length > 0) {
                setTimeout(function() {
                    $(document.body).addClass('modal-open');
                }, 0);
                }
            }
        }, '.modal');  
</script>
</body>
</html>
